{"version":3,"file":"index.js","sources":["../src/js/pixelabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\n\n\nconst SEARCH_URL = `https://pixabay.com/api/`;\nconst KEY_API = `50890358-614794b793de10968b1ca8154`\n\nexport default function getImagesByQuery(query){\n    return axios({\n        method: `get`,\n        url: SEARCH_URL,\n        params: {\n            key: KEY_API,\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n        },\n    }).then(response => response.data)\n}\n\n\n","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport getImagesByQuery from '../js/pixelabay-api';\n\nconst lightbox = new SimpleLightbox(`.gallery a`, {\n    captionsData: 'alt',\n    captionDelay: 250,\n} )\n\nexport function refreshLightBox() {\n    lightbox.refresh()\n}\n\nexport function createGallery(image) {\n    const markup = image.map(image => ` <li class=\"gallery-item\">\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n            </a>\n            <div class=\"info\">\n            <p><span class=\"span-info\">Views</span> <br> ${image.views}</p>\n            <p><span class=\"span-info\">Comments</span> <br> ${image.comments}</p>\n            <p><span class=\"span-info\">Downloads </span> <br> ${image.downloads}</p>\n            <p> <span class=\"span-info\"> Likes </span> <br> ${image.likes}</p>\n            </div>\n        </li>`).join('');\n    const galleryContainer = document.querySelector(`.gallery`)\n    \n    galleryContainer.insertAdjacentHTML(`beforeend`, markup)\n    refreshLightBox()\n    \n\n}\n\nexport function clearGallery() {\n    const galleryContainer = document.querySelector(`.gallery`)\n\n    galleryContainer.innerHTML = ''\n}\n\nexport function showLoader() {\n    const loader = document.querySelector(`.loader`)\n    loader.classList.remove(`is-hidden`)\n}\n\nexport function hideLoader() {\n    const loader = document.querySelector(`.loader`)\n    loader.classList.add(`is-hidden`)\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport getImagesByQuery from './js/pixelabay-api';\nimport {refreshLightBox, createGallery, clearGallery, showLoader, hideLoader} from './js/render-functions'\n\n\nconst galleryContainer = document.querySelector(`.gallery`)\nconst form = document.querySelector(`.form`)\nconst button = document.querySelector(`button`)\n\n\n\n\nfunction onSearch(event) {\n    event.preventDefault()\n\n    const userInfo = event.currentTarget.elements[`search-text`].value;\n    \n    clearGallery()\n    showLoader()\n    getImagesByQuery(userInfo).then(data => {\n        if (data.hits.length === 0) {\n            iziToast.error({\n                message: `Sorry, there are no images matching your search query. Please try again!`,\n                position: \"topLeft\"\n            })\n        }\n        createGallery(data.hits)\n        form.reset()\n    }).catch(error => \n        iziToast.error({\n            message: `${error}`, \n            position: \"topLeft\",\n         })\n    ).finally(() => hideLoader())\n\n\n    \n\n} \n\n\n\n\nform.addEventListener(`submit`,onSearch)\n\n\n\n\n"],"names":["SEARCH_URL","KEY_API","getImagesByQuery","query","axios","response","lightbox","SimpleLightbox","refreshLightBox","createGallery","image","markup","clearGallery","galleryContainer","showLoader","hideLoader","form","onSearch","event","userInfo","data","iziToast","error"],"mappings":"+vBAIA,MAAMA,EAAa,2BACbC,EAAU,qCAED,SAASC,EAAiBC,EAAM,CAC3C,OAAOC,EAAM,CACT,OAAQ,MACR,IAAKJ,EACL,OAAQ,CACJ,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACJ,CAAA,EAAE,KAAKE,GAAYA,EAAS,IAAI,CACrC,CCbA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAG,EAEI,SAASC,GAAkB,CAC9BF,EAAS,QAAS,CACtB,CAEO,SAASG,EAAcC,EAAO,CACjC,MAAMC,EAASD,EAAM,IAAIA,GAAS;AAAA,uBACfA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,2DAGPA,EAAM,KAAK;AAAA,8DACRA,EAAM,QAAQ;AAAA,gEACZA,EAAM,SAAS;AAAA,8DACjBA,EAAM,KAAK;AAAA;AAAA,cAE3D,EAAE,KAAK,EAAE,EACM,SAAS,cAAc,UAAU,EAEzC,mBAAmB,YAAaC,CAAM,EACvDH,EAAiB,CAGrB,CAEO,SAASI,GAAe,CAC3B,MAAMC,EAAmB,SAAS,cAAc,UAAU,EAE1DA,EAAiB,UAAY,EACjC,CAEO,SAASC,GAAa,CACV,SAAS,cAAc,SAAS,EACxC,UAAU,OAAO,WAAW,CACvC,CAEO,SAASC,GAAa,CACV,SAAS,cAAc,SAAS,EACxC,UAAU,IAAI,WAAW,CACpC,CC3CyB,SAAS,cAAc,UAAU,EAC1D,MAAMC,EAAO,SAAS,cAAc,OAAO,EAC5B,SAAS,cAAc,QAAQ,EAK9C,SAASC,EAASC,EAAO,CACrBA,EAAM,eAAgB,EAEtB,MAAMC,EAAWD,EAAM,cAAc,SAAS,aAAa,EAAE,MAE7DN,EAAc,EACdE,EAAY,EACZZ,EAAiBiB,CAAQ,EAAE,KAAKC,GAAQ,CAChCA,EAAK,KAAK,SAAW,GACrBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,SAC1B,CAAa,EAELZ,EAAcW,EAAK,IAAI,EACvBJ,EAAK,MAAO,CACpB,CAAK,EAAE,MAAMM,GACLD,EAAS,MAAM,CACX,QAAS,GAAGC,CAAK,GACjB,SAAU,SACtB,CAAU,CACV,EAAM,QAAQ,IAAMP,GAAY,CAKhC,CAKAC,EAAK,iBAAiB,SAASC,CAAQ"}